#import "issue-core.graphql"

mutation UpdateIssue($where: IssueWhereUniqueInput!, $data: IssueUpdateInput!) {
   updateOneIssue(where: $where, data: $data) {
      ...IssueCore
   }
}

mutation UpdateIssueStatus($id: String!, $status: String!) {
   updateOneIssue(where: { id: $id }, data: { issueStatus: { connect: { id: $status } } }) {
      ...IssueCore
   }
}

mutation UpdateIssuePriority($id: String!, $priorityId: String!) {
   updateOneIssue(where: { id: $id }, data: { issuePriority: { connect: { id: $priorityId } } }) {
      ...IssueCore
   }
}

mutation UpdateIssueAssignee($id: String!, $assigneeId: String) {
   updateOneIssue(where: { id: $id }, data: { assignee: { connect: { id: $assigneeId } } }) {
      ...IssueCore
   }
}

mutation UpdateIssueLabels($id: String!, $connectLabels: [IssueLabelCreateWithoutIssueInput!]!) {
   updateOneIssue(
      where: { id: $id }
      data: {
         labels: {
            deleteMany: {}
            create: $connectLabels
         }
      }
   ) {
      ...IssueCore
   }
}
